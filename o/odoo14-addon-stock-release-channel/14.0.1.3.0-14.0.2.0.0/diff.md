# Comparing `tmp/odoo14_addon_stock_release_channel-14.0.1.3.0-py3-none-any.whl.zip` & `tmp/odoo14_addon_stock_release_channel-14.0.2.0.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,36 +1,37 @@
-Zip file size: 47515 bytes, number of entries: 34
--rw-r--r--  2.0 unx     4546 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/README.rst
--rw-r--r--  2.0 unx       21 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/__init__.py
--rw-r--r--  2.0 unx      891 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/__manifest__.py
--rw-r--r--  2.0 unx      639 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/data/ir_cron_data.xml
--rw-r--r--  2.0 unx      592 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/data/queue_job_data.xml
--rw-r--r--  2.0 unx      293 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/data/stock_release_channel_data.xml
--rw-r--r--  2.0 unx    19510 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/i18n/stock_release_channel.pot
--rw-r--r--  2.0 unx       89 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/__init__.py
--rw-r--r--  2.0 unx      802 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/stock_move.py
--rw-r--r--  2.0 unx     1994 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/stock_picking.py
--rw-r--r--  2.0 unx    23936 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/models/stock_release_channel.py
--rw-r--r--  2.0 unx       93 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/CONFIGURE.rst
--rw-r--r--  2.0 unx      316 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst
--rw-r--r--  2.0 unx       50 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/CREDITS.rst
--rw-r--r--  2.0 unx      920 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/DESCRIPTION.rst
--rw-r--r--  2.0 unx      374 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/readme/USAGE.rst
--rw-r--r--  2.0 unx     1471 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/security/stock_release_channel.xml
--rw-r--r--  2.0 unx     9455 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/description/icon.png
--rw-r--r--  2.0 unx    14995 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/description/index.html
--rw-r--r--  2.0 unx     3214 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/src/js/progressbar_fractional_widget.js
--rw-r--r--  2.0 unx      975 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/static/src/scss/stock_release_channel.scss
--rw-r--r--  2.0 unx      153 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/__init__.py
--rw-r--r--  2.0 unx     5628 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/common.py
--rw-r--r--  2.0 unx     6104 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_channel_action.py
--rw-r--r--  2.0 unx     3223 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_channel_computed_fields.py
--rw-r--r--  2.0 unx     3423 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_channel_release_batch.py
--rw-r--r--  2.0 unx     2099 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/tests/test_release_channel.py
--rw-r--r--  2.0 unx      617 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/views/assets.xml
--rw-r--r--  2.0 unx     2816 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/views/stock_picking_views.xml
--rw-r--r--  2.0 unx    27893 b- defN 23-May-29 09:44 odoo/addons/stock_release_channel/views/stock_release_channel_views.xml
--rw-r--r--  2.0 unx     5245 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/WHEEL
--rw-r--r--  2.0 unx        5 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/top_level.txt
-?rw-rw-r--  2.0 unx     3897 b- defN 23-May-29 09:44 odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD
-34 files, 146371 bytes uncompressed, 40843 bytes compressed:  72.1%
+Zip file size: 52881 bytes, number of entries: 35
+-rw-r--r--  2.0 unx     5819 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/README.rst
+-rw-r--r--  2.0 unx       21 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/__init__.py
+-rw-r--r--  2.0 unx      904 b- defN 23-Jun-28 13:31 odoo/addons/stock_release_channel/__manifest__.py
+-rw-r--r--  2.0 unx      639 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/data/ir_cron_data.xml
+-rw-r--r--  2.0 unx      592 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/data/queue_job_data.xml
+-rw-r--r--  2.0 unx      293 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/data/stock_release_channel_data.xml
+-rw-r--r--  2.0 unx    25470 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/i18n/stock_release_channel.pot
+-rw-r--r--  2.0 unx       89 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/models/__init__.py
+-rw-r--r--  2.0 unx      802 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/models/stock_move.py
+-rw-r--r--  2.0 unx     2949 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/models/stock_picking.py
+-rw-r--r--  2.0 unx    29970 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/models/stock_release_channel.py
+-rw-r--r--  2.0 unx       93 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/readme/CONFIGURE.rst
+-rw-r--r--  2.0 unx      360 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst
+-rw-r--r--  2.0 unx       50 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/readme/CREDITS.rst
+-rw-r--r--  2.0 unx      920 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/readme/DESCRIPTION.rst
+-rw-r--r--  2.0 unx     1588 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/readme/USAGE.rst
+-rw-r--r--  2.0 unx     1471 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/security/stock_release_channel.xml
+-rw-r--r--  2.0 unx     9455 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/static/description/icon.png
+-rw-r--r--  2.0 unx    16476 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/static/description/index.html
+-rw-r--r--  2.0 unx     3214 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/static/src/js/progressbar_fractional_widget.js
+-rw-r--r--  2.0 unx      975 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/static/src/scss/stock_release_channel.scss
+-rw-r--r--  2.0 unx      198 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/__init__.py
+-rw-r--r--  2.0 unx     5665 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/common.py
+-rw-r--r--  2.0 unx     6104 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/test_channel_action.py
+-rw-r--r--  2.0 unx     3223 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/test_channel_computed_fields.py
+-rw-r--r--  2.0 unx     3423 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/test_channel_release_batch.py
+-rw-r--r--  2.0 unx     2099 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/test_release_channel.py
+-rw-r--r--  2.0 unx     3263 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/tests/test_release_channel_lifecycle.py
+-rw-r--r--  2.0 unx      617 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/views/assets.xml
+-rw-r--r--  2.0 unx     2816 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/views/stock_picking_views.xml
+-rw-r--r--  2.0 unx    37267 b- defN 23-Jun-28 13:30 odoo/addons/stock_release_channel/views/stock_release_channel_views.xml
+-rw-r--r--  2.0 unx     6531 b- defN 23-Jun-28 13:31 odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 23-Jun-28 13:31 odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/WHEEL
+-rw-r--r--  2.0 unx        5 b- defN 23-Jun-28 13:31 odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4028 b- defN 23-Jun-28 13:31 odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/RECORD
+35 files, 177481 bytes uncompressed, 45987 bytes compressed:  74.1%
```

## zipnote {}

```diff
@@ -75,29 +75,32 @@
 
 Filename: odoo/addons/stock_release_channel/tests/test_channel_release_batch.py
 Comment: 
 
 Filename: odoo/addons/stock_release_channel/tests/test_release_channel.py
 Comment: 
 
+Filename: odoo/addons/stock_release_channel/tests/test_release_channel_lifecycle.py
+Comment: 
+
 Filename: odoo/addons/stock_release_channel/views/assets.xml
 Comment: 
 
 Filename: odoo/addons/stock_release_channel/views/stock_picking_views.xml
 Comment: 
 
 Filename: odoo/addons/stock_release_channel/views/stock_release_channel_views.xml
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA
+Filename: odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/METADATA
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/WHEEL
+Filename: odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/WHEEL
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/top_level.txt
+Filename: odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/top_level.txt
 Comment: 
 
-Filename: odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD
+Filename: odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## odoo/addons/stock_release_channel/README.rst

```diff
@@ -60,14 +60,34 @@
 Each channel has a dashboard with statistics about the number of transfers
 to release and of the progress of the released transfers.
 
 When clicking on the "box" button, transfers are released automatically, to
 reach a total of <Max Transfers to release> (option configured in the channel
 settings).
 
+The availability of a release channel depends on its state. A release channel
+can be in one of the following states:
+
+  - Open: the channel is available and can be used to release transfers. New
+    transfer are assigned automatically to this channel.
+  - Locked: the channel is available but the release of transfers from the channel
+    is no more possible. New transfers are still automatically assigned to this
+  - Asleep: the channel is not available and cannot be used to release
+    transfers. It is also no more possible to assign transfers to this channel.
+
+New release channels are by default "Open". You can change its state by using
+the "Lock" and "Sleep" buttons. When the "Sleep" button is used, in addition to
+the state change, not completed transfers assigned to the channel are unassigned
+from the channel. When the "Lock" button is used, only the state change is changed.
+A locked channel can be unlocked by using the "Unlock" button.
+A asleep channel can be waken up by using the "Wake up" button. When the "Wake up"
+button is used, in addition to the state change, the system looks for pending
+transfers requiring a release and try to assign them to a channel in the
+"Open" or "Locked" state.
+
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/wms/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
 `feedback <https://github.com/OCA/wms/issues/new?body=module:%20stock_release_channel%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
@@ -77,22 +97,24 @@
 Credits
 =======
 
 Authors
 ~~~~~~~
 
 * Camptocamp
+* ACSONE SA/NV
 
 Contributors
 ~~~~~~~~~~~~
 
 * Guewen Baconnier <guewen.baconnier@camptocamp.com>
 * Matthieu Méquignon <matthieu.mequignon@camptocamp.com>
 * Sébastien Alix <sebastien.alix@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
+* Laurent Mignon <laurent.mignon@acsone.eu>
 
 Design
 ~~~~~~
 
 * Joël Grand-Guillaume <joel.grandguillaume@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
```

## odoo/addons/stock_release_channel/__manifest__.py

```diff
@@ -1,17 +1,17 @@
 # Copyright 2020 Camptocamp
 # License AGPL-3.0 or later (http://www.gnu.org/licenses/agpl.html)
 
 {
     "name": "Stock Release Channels",
     "summary": "Manage workload in WMS with release channels",
-    "version": "14.0.1.3.0",
+    "version": "14.0.2.0.0",
     "development_status": "Beta",
     "license": "AGPL-3",
-    "author": "Camptocamp, Odoo Community Association (OCA)",
+    "author": "Camptocamp, ACSONE SA/NV,Odoo Community Association (OCA)",
     "maintainers": ["sebalix"],
     "website": "https://github.com/OCA/wms",
     "depends": [
         "sale_stock",
         "stock_available_to_promise_release",  # OCA/wms
         "queue_job",  # OCA/queue
     ],
```

## odoo/addons/stock_release_channel/i18n/stock_release_channel.pot

```diff
@@ -28,25 +28,54 @@
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "<span class=\"middle_title\">To Do Situation</span>"
 msgstr ""
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
+msgid "<span>Actions</span>"
+msgstr ""
+
+#. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "<span>Transfers</span>"
 msgstr ""
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid ""
 "<strong>Last Transfer</strong>\n"
 "                                                <br/>"
 msgstr ""
 
 #. module: stock_release_channel
+#: code:addons/stock_release_channel/models/stock_release_channel.py:0
+#, python-format
+msgid "Action 'Lock' is not allowed for channel %(name)s."
+msgstr ""
+
+#. module: stock_release_channel
+#: code:addons/stock_release_channel/models/stock_release_channel.py:0
+#, python-format
+msgid "Action 'Sleep' is not allowed for channel %(name)s."
+msgstr ""
+
+#. module: stock_release_channel
+#: code:addons/stock_release_channel/models/stock_release_channel.py:0
+#, python-format
+msgid "Action 'Unlock' is not allowed for channel %(name)s."
+msgstr ""
+
+#. module: stock_release_channel
+#: code:addons/stock_release_channel/models/stock_release_channel.py:0
+#, python-format
+msgid "Action 'Wake Up' is not allowed for channel %(name)s."
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__active
 msgid "Active"
 msgstr ""
 
 #. module: stock_release_channel
 #: model_terms:ir.actions.act_window,help:stock_release_channel.stock_release_channel_config_act_window
 msgid "Add a Release Channel"
@@ -87,14 +116,29 @@
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_form_view
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_search_view
 msgid "Archived"
 msgstr ""
 
 #. module: stock_release_channel
+#: model:ir.model.fields.selection,name:stock_release_channel.selection__stock_release_channel__state__asleep
+msgid "Asleep"
+msgstr ""
+
+#. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_search_view
+msgid "Aslepp"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.actions.server,name:stock_release_channel.model_stock_release_channel_action_assign_pickings
+msgid "Assign Pickings"
+msgstr ""
+
+#. module: stock_release_channel
 #: code:addons/stock_release_channel/models/stock_picking.py:0
 #, python-format
 msgid "Assign release channel on %s"
 msgstr ""
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_tree_view
@@ -212,14 +256,39 @@
 
 #. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__count_picking_chain_in_progress
 msgid "In progress Related Transfers"
 msgstr ""
 
 #. module: stock_release_channel
+#: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__is_action_lock_allowed
+msgid "Is Action Lock Allowed"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__is_action_sleep_allowed
+msgid "Is Action Sleep Allowed"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__is_action_unlock_allowed
+msgid "Is Action Unlock Allowed"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__is_action_wake_up_allowed
+msgid "Is Action Wake Up Allowed"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__is_release_allowed
+msgid "Is Release Allowed"
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__last_done_picking_date_done
 msgid "Last Done Picking Date Done"
 msgstr ""
 
 #. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__last_done_picking_name
 msgid "Last Done Picking Name"
@@ -269,14 +338,26 @@
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "Lines]"
 msgstr ""
 
 #. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_form_view
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
+msgid "Lock"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields.selection,name:stock_release_channel.selection__stock_release_channel__state__locked
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_search_view
+msgid "Locked"
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model.fields.selection,name:stock_release_channel.selection__stock_release_channel__auto_release__max
 msgid "Max"
 msgstr ""
 
 #. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__max_auto_release
 msgid "Max Transfers to release"
@@ -319,14 +400,20 @@
 #: code:addons/stock_release_channel/models/stock_release_channel.py:0
 #: code:addons/stock_release_channel/tests/test_channel_release_batch.py:0
 #, python-format
 msgid "Nothing in the queue!"
 msgstr ""
 
 #. module: stock_release_channel
+#: model:ir.model.fields.selection,name:stock_release_channel.selection__stock_release_channel__state__open
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_search_view
+msgid "Open"
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__picking_type_ids
 msgid "Operation Types"
 msgstr ""
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "Overall Progress"
@@ -430,31 +517,83 @@
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "Settings"
 msgstr ""
 
 #. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_form_view
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
+msgid "Sleep"
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__state
+msgid "State"
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model,name:stock_release_channel.model_stock_move
 msgid "Stock Move"
 msgstr ""
 
 #. module: stock_release_channel
 #: model:ir.model,name:stock_release_channel.model_stock_release_channel
 msgid "Stock Release Channels"
 msgstr ""
 
 #. module: stock_release_channel
+#: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__is_action_lock_allowed
+msgid "Technical field to check if the action 'Lock' is allowed."
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__is_release_allowed
+msgid ""
+"Technical field to check if the action 'Release Next Batch' is allowed."
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__is_action_sleep_allowed
+msgid "Technical field to check if the action 'Sleep' is allowed."
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__is_action_unlock_allowed
+msgid "Technical field to check if the action 'Unlock' is allowed."
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__is_action_wake_up_allowed
+msgid "Technical field to check if the action 'Wake Up' is allowed."
+msgstr ""
+
+#. module: stock_release_channel
 #: code:addons/stock_release_channel/models/stock_release_channel.py:0
 #, python-format
 msgid ""
 "The number of released transfers in progress is already at the maximum."
 msgstr ""
 
 #. module: stock_release_channel
+#: code:addons/stock_release_channel/models/stock_release_channel.py:0
+#, python-format
+msgid "The release of pickings is not allowed for channel %(name)s."
+msgstr ""
+
+#. module: stock_release_channel
+#: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__state
+msgid ""
+"The state allows you to control the availability of the release channel.\n"
+"* Open: Manual and automatic picking assignment to the release is effective and release operations are allowed.\n"
+" * Locked: Release operations are forbidden. (Assignement processes are still working)\n"
+"* Asleep: Assigned pickings not processed are unassigned from the release channel.\n"
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__count_picking_full_progress
 msgid "The total number of pickings to achieve 100% of progress."
 msgstr ""
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "To Do"
@@ -492,14 +631,20 @@
 
 #. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.view_picking_internal_search
 msgid "Transfers that couldn't be assigned in a release channel"
 msgstr ""
 
 #. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_form_view
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
+msgid "Unlock"
+msgstr ""
+
+#. module: stock_release_channel
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
 msgid "Waiting"
 msgstr ""
 
 #. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__count_move_waiting
 msgid "Waiting Moves (Estimate)"
@@ -512,14 +657,20 @@
 
 #. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__count_picking_waiting
 msgid "Waiting Transfers"
 msgstr ""
 
 #. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_form_view
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
+msgid "Wake Up"
+msgstr ""
+
+#. module: stock_release_channel
 #: model:ir.model.fields,field_description:stock_release_channel.field_stock_release_channel__warehouse_id
 #: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_search_view
 msgid "Warehouse"
 msgstr ""
 
 #. module: stock_release_channel
 #: model:ir.model.fields,help:stock_release_channel.field_stock_release_channel__warehouse_id
@@ -541,7 +692,12 @@
 #. module: stock_release_channel
 #: code:addons/stock_release_channel/models/stock_picking.py:0
 #, python-format
 msgid ""
 "You cannot release delivery of the channel %s because it has been forbidden "
 "in the release channel configuration"
 msgstr ""
+
+#. module: stock_release_channel
+#: model_terms:ir.ui.view,arch_db:stock_release_channel.stock_release_channel_kanban_view
+msgid "name"
+msgstr ""
```

## odoo/addons/stock_release_channel/models/stock_picking.py

```diff
@@ -28,15 +28,16 @@
         for picking in self:
             picking.with_delay(
                 identity_key=identity_exact,
                 description=_("Assign release channel on %s") % picking.name,
             ).assign_release_channel()
 
     def assign_release_channel(self):
-        self.env["stock.release.channel"].assign_release_channel(self)
+        for pick in self:
+            self.env["stock.release.channel"].assign_release_channel(pick)
 
     def release_available_to_promise(self):
         for record in self:
             channel = record.release_channel_id
             if channel.release_forbidden:
                 raise exceptions.UserError(
                     _(
@@ -53,7 +54,27 @@
         return backorders
 
     def assign_release_channel_on_all_need_release(self):
         need_release = self.env["stock.picking"].search(
             [("need_release", "=", True)],
         )
         need_release._delay_assign_release_channel()
+
+    def _find_release_channel_candidate(self):
+        """Find a release channel candidate for the picking.
+
+        This method is meant to be overridden in other modules. It allows to
+        find a release channel candidate for the current picking based on the
+        picking information.
+
+        For example, you could define release channels based on a geographic area.
+        In this case, you would need to override this method to find the release
+        channel based on the shipping destination. In such a case, it's more
+        efficient to search for a channel where the destination is in the channel
+        area than to search for all the channels and then filter the ones that match
+        the destination as it's done into the method assign_release_channel of the
+        stock.release.channel model.
+
+        :return: a release channel or None
+        """
+        self.ensure_one()
+        return None
```

## odoo/addons/stock_release_channel/models/stock_release_channel.py

```diff
@@ -166,46 +166,118 @@
     last_done_picking_id = fields.Many2one(
         string="Last Done Transfer",
         comodel_name="stock.picking",
         compute="_compute_last_done_picking",
     )
     last_done_picking_name = fields.Char(compute="_compute_last_done_picking")
     last_done_picking_date_done = fields.Datetime(compute="_compute_last_done_picking")
+    state = fields.Selection(
+        selection=[("open", "Open"), ("locked", "Locked"), ("asleep", "Asleep")],
+        help="The state allows you to control the availability of the release channel.\n"
+        "* Open: Manual and automatic picking assignment to the release is effective "
+        "and release operations are allowed.\n "
+        "* Locked: Release operations are forbidden. (Assignement processes are "
+        "still working)\n"
+        "* Asleep: Assigned pickings not processed are unassigned from the release "
+        "channel.\n",
+        default="open",
+    )
+    is_action_lock_allowed = fields.Boolean(
+        compute="_compute_is_action_lock_allowed",
+        help="Technical field to check if the " "action 'Lock' is allowed.",
+    )
+    is_action_unlock_allowed = fields.Boolean(
+        compute="_compute_is_action_unlock_allowed",
+        help="Technical field to check if the " "action 'Unlock' is allowed.",
+    )
+    is_action_sleep_allowed = fields.Boolean(
+        compute="_compute_is_action_sleep_allowed",
+        help="Technical field to check if the " "action 'Sleep' is allowed.",
+    )
+    is_action_wake_up_allowed = fields.Boolean(
+        compute="_compute_is_action_wake_up_allowed",
+        help="Technical field to check if the " "action 'Wake Up' is allowed.",
+    )
+    is_release_allowed = fields.Boolean(
+        compute="_compute_is_release_allowed",
+        help="Technical field to check if the "
+        "action 'Release Next Batch' is allowed.",
+    )
+
+    @api.depends("state")
+    def _compute_is_action_lock_allowed(self):
+        for rec in self:
+            rec.is_action_lock_allowed = rec.state == "open"
+
+    @api.depends("state")
+    def _compute_is_action_unlock_allowed(self):
+        for rec in self:
+            rec.is_action_unlock_allowed = rec.state == "locked"
+
+    @api.depends("state")
+    def _compute_is_action_sleep_allowed(self):
+        for rec in self:
+            rec.is_action_sleep_allowed = rec.state in ("open", "locked")
+
+    @api.depends("state")
+    def _compute_is_action_wake_up_allowed(self):
+        for rec in self:
+            rec.is_action_wake_up_allowed = rec.state == "asleep"
+
+    @api.depends("state", "release_forbidden")
+    def _compute_is_release_allowed(self):
+        for rec in self:
+            rec.is_release_allowed = rec.state == "open" and not rec.release_forbidden
+
+    def _get_picking_to_unassign_domain(self):
+        return [
+            ("release_channel_id", "in", self.ids),
+            ("state", "not in", ("done", "cancel")),
+        ]
+
+    @api.model
+    def _get_picking_to_assign_domain(self):
+        return [
+            ("release_channel_id", "=", False),
+            ("state", "not in", ("done", "cancel")),
+            ("picking_type_id.code", "=", "outgoing"),
+            ("need_release", "=", True),
+        ]
 
     def _field_picking_domains(self):
         return {
             "count_picking_all": [],
             "count_picking_release_ready": [
                 ("release_ready", "=", True),
                 # FIXME not TZ friendly
                 (
                     "scheduled_date",
                     "<",
                     fields.Datetime.now().replace(hour=23, minute=59),
                 ),
             ],
             "count_picking_released": [
-                ("need_release", "=", False),
+                ("last_release_date", "!=", False),
                 ("state", "in", ("assigned", "waiting", "confirmed")),
             ],
             "count_picking_assigned": [
-                ("need_release", "=", False),
+                ("last_release_date", "!=", False),
                 ("state", "=", "assigned"),
             ],
             "count_picking_waiting": [
-                ("need_release", "=", False),
+                ("last_release_date", "!=", False),
                 ("state", "in", ("waiting", "confirmed")),
             ],
             "count_picking_late": [
-                ("need_release", "=", False),
+                ("last_release_date", "!=", False),
                 ("scheduled_date", "<", fields.Datetime.now()),
                 ("state", "in", ("assigned", "waiting", "confirmed")),
             ],
             "count_picking_priority": [
-                ("need_release", "=", False),
+                ("last_release_date", "!=", False),
                 ("priority", "=", "1"),
                 ("state", "in", ("assigned", "waiting", "confirmed")),
             ],
             "count_picking_done": [
                 ("state", "=", "done"),
                 ("date_done", ">", fields.Datetime.now().replace(hour=0, minute=0)),
             ],
@@ -366,55 +438,68 @@
             if msg:
                 raise exceptions.ValidationError(msg)
 
     def _prepare_domain(self):
         domain = safe_eval(self.rule_domain) or []
         return domain
 
-    def assign_release_channel(self, pickings):
-        pickings = pickings.filtered(
-            lambda picking: picking.picking_type_id.code == "outgoing"
-            and picking.state not in ("cancel", "done")
-        )
-        if not pickings:
+    @api.model
+    def _get_assignable_release_channel_domain(self):
+        return [("state", "!=", "asleep")]
+
+    @api.model
+    def assign_release_channel(self, picking):
+        picking.ensure_one()
+        if picking.picking_type_id.code != "outgoing" or picking.state in (
+            "cancel",
+            "done",
+        ):
             return
+        # get channel candidates from the picking
+        channel = picking._find_release_channel_candidate()
+        if channel:
+            picking.release_channel_id = channel
+            return True
+        # No channel provided by the picking -> try to find one be evaluating the rules
+        # of all available channels
         # do a single query rather than one for each rule*picking
-        for channel in self.sudo().search([]):
-            if channel.picking_type_ids:
-                current = pickings.filtered(
-                    lambda p: p.picking_type_id in channel.picking_type_ids
-                )
-            else:
-                current = pickings
+        for channel in self.sudo().search(
+            self._get_assignable_release_channel_domain()
+        ):
+            if (
+                channel.picking_type_ids
+                and picking.picking_type_id not in channel.picking_type_ids
+            ):
+                continue
 
             domain = channel._prepare_domain()
+
             if domain:
-                current = current.filtered_domain(domain)
+                current = picking.filtered_domain(domain)
+            else:
+                current = picking
 
             if not current:
                 continue
 
             if channel.code:
                 current = channel._eval_code(current)
 
             if not current:
                 continue
 
             current.release_channel_id = channel
+            break
 
-            pickings -= current
-            if not pickings:
-                break
-
-        if pickings:
-            # by this point, all pickings should have been assigned
+        if not picking.release_channel_id:
+            # by this point, the picking should have been assigned
             _logger.warning(
-                "%s transfers could not be assigned to a channel,"
+                "Transfer %s could not be assigned to a channel,"
                 " you should add a final catch-all rule",
-                len(pickings),
+                picking.name,
             )
         return True
 
     def _eval_context(self, pickings):
         """Prepare the context used when for the python rule evaluation
 
         :returns: dict -- evaluation context given to (safe_)eval
@@ -609,20 +694,101 @@
         first_picking = next_pickings[0]
         commercial_partner = first_picking.commercial_partner_id
         partner_pickings = next_pickings.filtered(
             lambda p: p.commercial_partner_id == commercial_partner
         )
         return partner_pickings
 
+    def _check_is_release_allowed(self):
+        for rec in self:
+            if not rec.is_release_allowed:
+                raise exceptions.UserError(
+                    _(
+                        "The release of pickings is not allowed for channel %(name)s.",
+                        name=rec.name,
+                    )
+                )
+
     def release_next_batch(self):
+        self._check_is_release_allowed()
         self.ensure_one()
         next_pickings = self._get_next_pickings()
         if not next_pickings:
             return {
                 "effect": {
                     "fadeout": "fast",
                     "message": _("Nothing in the queue!"),
                     "img_url": "/web/static/src/img/smile.svg",
                     "type": "rainbow_man",
                 }
             }
         next_pickings.release_available_to_promise()
+
+    def _check_is_action_lock_allowed(self):
+        for rec in self:
+            if not rec.is_action_lock_allowed:
+                raise exceptions.UserError(
+                    _(
+                        "Action 'Lock' is not allowed for channel %(name)s.",
+                        name=rec.name,
+                    )
+                )
+
+    def _check_is_action_unlock_allowed(self):
+        for rec in self:
+            if not rec.is_action_unlock_allowed:
+                raise exceptions.UserError(
+                    _(
+                        "Action 'Unlock' is not allowed for channel %(name)s.",
+                        name=rec.name,
+                    )
+                )
+
+    def _check_is_action_sleep_allowed(self):
+        for rec in self:
+            if not rec.is_action_sleep_allowed:
+                raise exceptions.UserError(
+                    _(
+                        "Action 'Sleep' is not allowed for channel %(name)s.",
+                        name=rec.name,
+                    )
+                )
+
+    def _check_is_action_wake_up_allowed(self):
+        for rec in self:
+            if not rec.is_action_wake_up_allowed:
+                raise exceptions.UserError(
+                    _(
+                        "Action 'Wake Up' is not allowed for channel %(name)s.",
+                        name=rec.name,
+                    )
+                )
+
+    def action_lock(self):
+        self._check_is_action_lock_allowed()
+        self.write({"state": "locked"})
+
+    def action_unlock(self):
+        self._check_is_action_unlock_allowed()
+        self.write({"state": "open"})
+
+    def action_sleep(self):
+        self._check_is_action_sleep_allowed()
+        pickings_to_unassign = self.env["stock.picking"].search(
+            self._get_picking_to_unassign_domain()
+        )
+        pickings_to_unassign.write({"release_channel_id": False})
+        pickings_to_unassign.unrelease()
+        self.write({"state": "asleep"})
+
+    def action_wake_up(self):
+        self._check_is_action_wake_up_allowed()
+        self.write({"state": "open"})
+        self.assign_pickings()
+
+    @api.model
+    def assign_pickings(self):
+        pickings = self.env["stock.picking"].search(
+            self._get_picking_to_assign_domain()
+        )
+        for pick in pickings:
+            pick._delay_assign_release_channel()
```

## odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst

```diff
@@ -1,10 +1,11 @@
 * Guewen Baconnier <guewen.baconnier@camptocamp.com>
 * Matthieu Méquignon <matthieu.mequignon@camptocamp.com>
 * Sébastien Alix <sebastien.alix@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
+* Laurent Mignon <laurent.mignon@acsone.eu>
 
 Design
 ~~~~~~
 
 * Joël Grand-Guillaume <joel.grandguillaume@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
```

## odoo/addons/stock_release_channel/readme/USAGE.rst

```diff
@@ -2,7 +2,27 @@
 
 Each channel has a dashboard with statistics about the number of transfers
 to release and of the progress of the released transfers.
 
 When clicking on the "box" button, transfers are released automatically, to
 reach a total of <Max Transfers to release> (option configured in the channel
 settings).
+
+The availability of a release channel depends on its state. A release channel
+can be in one of the following states:
+
+  - Open: the channel is available and can be used to release transfers. New
+    transfer are assigned automatically to this channel.
+  - Locked: the channel is available but the release of transfers from the channel
+    is no more possible. New transfers are still automatically assigned to this
+  - Asleep: the channel is not available and cannot be used to release
+    transfers. It is also no more possible to assign transfers to this channel.
+
+New release channels are by default "Open". You can change its state by using
+the "Lock" and "Sleep" buttons. When the "Sleep" button is used, in addition to
+the state change, not completed transfers assigned to the channel are unassigned
+from the channel. When the "Lock" button is used, only the state change is changed.
+A locked channel can be unlocked by using the "Unlock" button.
+A asleep channel can be waken up by using the "Wake up" button. When the "Wake up"
+button is used, in addition to the state change, the system looks for pending
+transfers requiring a release and try to assign them to a channel in the
+"Open" or "Locked" state.
```

## odoo/addons/stock_release_channel/static/description/index.html

### odoo/addons/stock_release_channel/static/description/index.html

```diff
@@ -446,14 +446,35 @@
         </h1>
         <p>Use Inventory &gt; Operations &gt; Release Channels to access to the dashboard.</p>
         <p>Each channel has a dashboard with statistics about the number of transfers
 to release and of the progress of the released transfers.</p>
         <p>When clicking on the “box” button, transfers are released automatically, to
 reach a total of &lt;Max Transfers to release&gt; (option configured in the channel
 settings).</p>
+        <p>The availability of a release channel depends on its state. A release channel
+can be in one of the following states:</p>
+        <blockquote>
+          <ul class="simple">
+            <li>Open: the channel is available and can be used to release transfers. New
+transfer are assigned automatically to this channel.</li>
+            <li>Locked: the channel is available but the release of transfers from the channel
+is no more possible. New transfers are still automatically assigned to this</li>
+            <li>Asleep: the channel is not available and cannot be used to release
+transfers. It is also no more possible to assign transfers to this channel.</li>
+          </ul>
+        </blockquote>
+        <p>New release channels are by default “Open”. You can change its state by using
+the “Lock” and “Sleep” buttons. When the “Sleep” button is used, in addition to
+the state change, not completed transfers assigned to the channel are unassigned
+from the channel. When the “Lock” button is used, only the state change is changed.
+A locked channel can be unlocked by using the “Unlock” button.
+A asleep channel can be waken up by using the “Wake up” button. When the “Wake up”
+button is used, in addition to the state change, the system looks for pending
+transfers requiring a release and try to assign them to a channel in the
+“Open” or “Locked” state.</p>
       </div>
       <div class="section" id="bug-tracker">
         <h1>
           <a class="toc-backref" href="#id3">Bug Tracker</a>
         </h1>
         <p>
           Bugs are tracked on
@@ -472,14 +493,15 @@
         </h1>
         <div class="section" id="authors">
           <h2>
             <a class="toc-backref" href="#id5">Authors</a>
           </h2>
           <ul class="simple">
             <li>Camptocamp</li>
+            <li>ACSONE SA/NV</li>
           </ul>
         </div>
         <div class="section" id="contributors">
           <h2>
             <a class="toc-backref" href="#id6">Contributors</a>
           </h2>
           <ul class="simple">
@@ -499,14 +521,19 @@
               &gt;
             </li>
             <li>
               Jacques-Etienne Baudoux &lt;
               <a class="reference external" href="mailto:je@bcim.be">je@bcim.be</a>
               &gt;
             </li>
+            <li>
+              Laurent Mignon &lt;
+              <a class="reference external" href="mailto:laurent.mignon@acsone.eu">laurent.mignon@acsone.eu</a>
+              &gt;
+            </li>
           </ul>
         </div>
         <div class="section" id="design">
           <h2>
             <a class="toc-backref" href="#id7">Design</a>
           </h2>
           <ul class="simple">
```

## odoo/addons/stock_release_channel/tests/__init__.py

```diff
@@ -1,4 +1,5 @@
 from . import test_release_channel
 from . import test_channel_computed_fields
 from . import test_channel_action
 from . import test_channel_release_batch
+from . import test_release_channel_lifecycle
```

## odoo/addons/stock_release_channel/tests/common.py

```diff
@@ -52,56 +52,59 @@
             location,
             quantity,
             package_id=package,
             lot_id=lot,
             in_date=in_date,
         )
 
-    def _create_single_move(self, product, qty, group=None):
+    @classmethod
+    def _create_single_move(cls, product, qty, group=None):
         # create a group so different moves are not merged in
         # the same picking
         if not group:
-            group = self.env["procurement.group"].create({})
-        picking_type = self.wh.out_type_id
+            group = cls.env["procurement.group"].create({})
+        picking_type = cls.wh.out_type_id
         move_vals = {
             "name": product.name,
             "picking_type_id": picking_type.id,
             "product_id": product.id,
             "product_uom_qty": qty,
             "product_uom": product.uom_id.id,
             "location_id": picking_type.default_location_src_id.id,
-            "location_dest_id": self.customer_location.id,
+            "location_dest_id": cls.customer_location.id,
             "state": "confirmed",
             "procure_method": "make_to_stock",
             "group_id": group.id,
         }
-        move = self.env["stock.move"].create(move_vals)
+        move = cls.env["stock.move"].create(move_vals)
         move._assign_picking()
         return move
 
-    def _create_channel(self, **vals):
-        return self.env["stock.release.channel"].create(vals)
+    @classmethod
+    def _create_channel(cls, **vals):
+        return cls.env["stock.release.channel"].create(vals)
 
-    def _run_procurement(self, move, date=None):
+    @classmethod
+    def _run_procurement(cls, move, date=None):
         values = {
-            "company_id": self.wh.company_id,
+            "company_id": cls.wh.company_id,
             "group_id": move.picking_id.group_id,
             "date_planned": date or fields.Datetime.now(),
-            "warehouse_id": self.wh,
+            "warehouse_id": cls.wh,
         }
-        self.env["procurement.group"].run(
+        cls.env["procurement.group"].run(
             [
-                self.env["procurement.group"].Procurement(
+                cls.env["procurement.group"].Procurement(
                     move.product_id,
                     move.product_uom_qty,
                     move.product_uom,
-                    self.customer_location,
+                    cls.customer_location,
                     "TEST",
                     "TEST",
-                    self.wh.company_id,
+                    cls.wh.company_id,
                     values,
                 )
             ]
         )
 
 
 class ChannelReleaseCase(PromiseReleaseCommonCase):
```

## odoo/addons/stock_release_channel/views/stock_release_channel_views.xml

### odoo/addons/stock_release_channel/views/stock_release_channel_views.xml

```diff
@@ -1,14 +1,25 @@
 <?xml version="1.0" encoding="utf-8"?>
 <odoo>
   <record model="ir.ui.view" id="stock_release_channel_form_view">
     <field name="name">stock.release.channel.form</field>
     <field name="model">stock.release.channel</field>
     <field name="arch" type="xml">
       <form>
+        <header>
+          <field name="is_action_lock_allowed" invisible="1"/>
+          <field name="is_action_unlock_allowed" invisible="1"/>
+          <field name="is_action_sleep_allowed" invisible="1"/>
+          <field name="is_action_wake_up_allowed" invisible="1"/>
+          <button name="action_lock" string="Lock" type="object" class="oe_stat_button" icon="fa-lock" attrs="{'invisible': [('is_action_lock_allowed', '=', False)]}"/>
+          <button name="action_unlock" string="Unlock" type="object" class="oe_stat_button" icon="fa-unlock" attrs="{'invisible': [('is_action_unlock_allowed', '=', False)]}"/>
+          <button name="action_sleep" string="Sleep" type="object" class="oe_stat_button" icon="fa-bed" attrs="{'invisible': [('is_action_sleep_allowed', '=', False)]}"/>
+          <button name="action_wake_up" string="Wake Up" type="object" class="oe_stat_button" icon="fa-bolt" attrs="{'invisible': [('is_action_wake_up_allowed', '=', False)]}"/>
+          <field name="state" widget="statusbar" statusbar_visible="open,locked,asleep" readonly="True"/>
+        </header>
         <sheet>
           <div class="oe_button_box" name="button_box"/>
           <field name="active" invisible="1"/>
           <widget name="web_ribbon" title="Archived" bg_color="bg-danger" attrs="{'invisible': [('active', '=', True)]}"/>
           <label for="name" class="oe_edit_only"/>
           <h1>
             <field name="name"/>
@@ -19,28 +30,31 @@
             <field name="max_auto_release" attrs="{'invisible': ['|', ('release_forbidden', '=', True), ('auto_release', '!=', 'max')]}"/>
             <field name="warehouse_id"/>
             <field name="picking_type_ids" options="{'no_create': True}">
               <tree>
                 <field name="name"/>
               </tree>
             </field>
-            <field name="rule_domain" widget="domain" options="{'model': 'stock.picking', 'in_dialog': true}"/>
+            <field name="rule_domain" widget="domain" options="{'model': 'stock.picking', 'in_dialog': True}"/>
             <field name="code" widget="ace" options="{'mode': 'python'}" placeholder="Enter Python code here."/>
           </group>
         </sheet>
       </form>
     </field>
   </record>
   <record model="ir.ui.view" id="stock_release_channel_search_view">
     <field name="name">stock.release.channel.search</field>
     <field name="model">stock.release.channel</field>
     <field name="arch" type="xml">
       <search>
         <field name="warehouse_id"/>
         <separator/>
+        <filter string="Open" name="filter_open" domain="[('state','=','open')]"/>
+        <filter string="Locked" name="filter_locked" domain="[('state','=','locked')]"/>
+        <filter string="Aslepp" name="filter_asleep" domain="[('state','=','asleep')]"/>
         <filter string="Archived" name="inactive" domain="[('active','=',False)]"/>
         <separator/>
         <filter name="warehouse_group" string="Warehouse" context="{'group_by': 'warehouse_id'}"/>
       </search>
     </field>
   </record>
   <record model="ir.ui.view" id="stock_release_channel_tree_view">
@@ -93,27 +107,31 @@
           <t t-name="kanban-box">
             <div t-attf-class="#{kanban_color(record.color.raw_value)}" name="release_channel">
               <div>
                 <div t-attf-class="o_kanban_card_header">
                   <div class="o_kanban_card_header_title">
                     <div class="o_primary">
                       <field name="name"/>
+                      <field name="state" invisible="1"/>
+                      <t t-set="classname" t-value="{'open': 'fa fa-unlock', 'locked': 'fa fa-lock', 'asleep': 'fa fa-bed'}[record.state.raw_value] || ''"/>
+                      <i t-attf-class="{{ classname }}" role="img" title="name" style="float: right; line-height: 24px"/>
                     </div>
                   </div>
                   <div class="o_kanban_manage_button_section">
                     <hr class="mt4 mb4"/>
                     <a class="o_kanban_manage_toggle_button" href="#">
                       <i class="fa fa-ellipsis-v" role="img" aria-label="Details" title="Details"/>
                     </a>
                   </div>
                 </div>
                 <div class="container o_kanban_card_content">
                   <div class="row o_kanban_card_upper_content">
                     <div class="col-4 o_kanban_primary_left">
-                      <button class="btn btn-primary" name="release_next_batch" type="object">
+                      <field name="is_release_allowed" invisible="1"/>
+                      <button class="btn btn-primary" name="release_next_batch" type="object" attrs="{'invisible': [('is_release_allowed', '=', False)]}">
                         <i class="fa fa-dropbox fa-4x" role="img" aria-label="Release" title="Automatic Release"/>
                       </button>
                     </div>
                     <div class="col-8 o_kanban_primary_right">
                       <div class="row">
                         <div class="col-7">
                           <a name="action_picking_release_ready" type="object">To Release</a>
@@ -154,15 +172,15 @@
                         </div>
                       </div>
                     </div>
                   </div>
                   <div class="row">
                     <div class="col-12 middle_block">
                       <field name="count_picking_full_progress" invisible="1"/>
-                      <field name="count_picking_done" widget="progressbar" title="Overall Progress" options="{'show_fractional': true, 'current_value': 'count_picking_done', 'max_value': 'count_picking_full_progress', 'editable': false}"/>
+                      <field name="count_picking_done" widget="progressbar" title="Overall Progress" options="{'show_fractional': True, 'current_value': 'count_picking_done', 'max_value': 'count_picking_full_progress', 'editable': false}"/>
                     </div>
                   </div>
                   <div class="kanban_middle_title">
                     <span class="middle_title">To Do Situation</span>
                     <hr class="mt4 mb4"/>
                   </div>
                   <div class="row">
@@ -251,20 +269,54 @@
                           <field name="count_picking_chain_done" widget="progressbar" title="Transfers Progress" options="{'current_value': 'count_picking_chain_done', 'max_value': 'count_picking_chain', 'editable': false}"/>
                         </div>
                       </div>
                     </div>
                   </div>
                 </div>
                 <div class="container o_kanban_card_manage_pane dropdown-menu" role="menu">
-                  <div t-if="widget.editable" class="o_kanban_card_manage_settings row">
-                    <div class="col-8" role="menuitem" aria-haspopup="true">
-                      <ul class="oe_kanban_colorpicker" data-field="color" role="menu"/>
+                  <div class="row">
+                    <div class="col-6 o_kanban_card_manage_section o_kanban_manage_view" name="dropdown-menu-left-panel">
+                      <field name="is_action_lock_allowed" invisible="1"/>
+                      <field name="is_action_unlock_allowed" invisible="1"/>
+                      <field name="is_action_sleep_allowed" invisible="1"/>
+                      <field name="is_action_wake_up_allowed" invisible="1"/>
+                      <div role="menuitem" class="o_kanban_card_manage_title">
+                        <span>Actions</span>
+                      </div>
+                      <t t-if="record.is_action_lock_allowed.raw_value">
+                        <div role="menuitem">
+                          <a name="action_lock" type="object" icon="fa-lock">Lock</a>
+                        </div>
+                      </t>
+                      <t t-if="record.is_action_unlock_allowed.raw_value">
+                        <div role="menuitem">
+                          <a name="action_unlock" type="object" icon="fa-unlock">Unlock</a>
+                        </div>
+                      </t>
+                      <t t-if="record.is_action_sleep_allowed.raw_value">
+                        <div role="menuitem">
+                          <a name="action_sleep" type="object" icon="fa-bed">Sleep</a>
+                        </div>
+                      </t>
+                      <t t-if="record.is_action_wake_up_allowed.raw_value">
+                        <div role="menuitem">
+                          <a name="action_wake_up" type="object" icon="fa-bolt">Wake Up</a>
+                        </div>
+                      </t>
                     </div>
-                    <div role="menuitem" class="col-4 text-center">
-                      <a type="edit">Settings</a>
+                    <div class="col-6 o_kanban_card_manage_section o_kanban_manage_reporting" name="dropdown-menu-right-panel"/>
+                  </div>
+                  <div class="o_kanban_card_manage_settings row">
+                    <div role="menuitem" aria-haspopup="true" class="col-6">
+                      <ul class="oe_kanban_colorpicker" data-field="color" role="popup"/>
+                    </div>
+                    <div role="menuitem" class="col-6">
+                      <t t-if="widget.editable">
+                        <a role="menuitem" type="edit" class="dropdown-item">Settings</a>
+                      </t>
                     </div>
                   </div>
                 </div>
               </div>
             </div>
           </t>
         </templates>
@@ -272,29 +324,38 @@
     </field>
   </record>
   <record model="ir.actions.act_window" id="stock_release_channel_act_window">
     <field name="name">Release Channels</field>
     <field name="res_model">stock.release.channel</field>
     <field name="view_mode">kanban,tree,form</field>
     <field name="domain">[]</field>
-    <field name="context">{}</field>
+    <field name="context">{'search_default_filter_open': True, 'search_default_filter_locked': True}</field>
     <field name="help" type="html">
       <p class="o_view_nocontent_smiling_face">No Release Channel configured</p>
     </field>
   </record>
   <record model="ir.actions.act_window" id="stock_release_channel_config_act_window">
     <field name="name">Release Channels</field>
     <field name="res_model">stock.release.channel</field>
     <field name="view_mode">tree,form,kanban</field>
     <field name="domain">[]</field>
-    <field name="context">{}</field>
+    <field name="context">{'search_default_filter_open': True, 'search_default_filter_locked': True}</field>
     <field name="help" type="html">
       <p class="o_view_nocontent_smiling_face">Add a Release Channel</p>
     </field>
   </record>
+  <!-- Assign Pickings in action menu -->
+  <record id="model_stock_release_channel_action_assign_pickings" model="ir.actions.server">
+    <field name="name">Assign Pickings</field>
+    <field name="model_id" ref="stock_release_channel.model_stock_release_channel"/>
+    <field name="binding_model_id" ref="stock_release_channel.model_stock_release_channel"/>
+    <field name="binding_view_types">form,tree,kanban</field>
+    <field name="state">code</field>
+    <field name="code">action = model.assign_pickings()</field>
+  </record>
   <record model="ir.ui.menu" id="stock_release_channel_menu">
     <field name="name">Release Channels</field>
     <field name="parent_id" ref="stock.menu_stock_warehouse_mgmt"/>
     <field name="action" ref="stock_release_channel_act_window"/>
     <field name="sequence" eval="6"/>
   </record>
   <record model="ir.ui.menu" id="stock_release_channel_config_menu">
```

## Comparing `odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA` & `odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/METADATA`

 * *Files 16% similar despite different names*

```diff
@@ -1,13 +1,13 @@
 Metadata-Version: 2.1
 Name: odoo14-addon-stock-release-channel
-Version: 14.0.1.3.0
+Version: 14.0.2.0.0
 Summary: Manage workload in WMS with release channels
 Home-page: https://github.com/OCA/wms
-Author: Camptocamp, Odoo Community Association (OCA)
+Author: Camptocamp, ACSONE SA/NV,Odoo Community Association (OCA)
 Author-email: support@odoo-community.org
 License: AGPL-3
 Platform: UNKNOWN
 Classifier: Programming Language :: Python
 Classifier: Framework :: Odoo
 Classifier: Framework :: Odoo :: 14.0
 Classifier: License :: OSI Approved :: GNU Affero General Public License v3
@@ -79,14 +79,34 @@
 Each channel has a dashboard with statistics about the number of transfers
 to release and of the progress of the released transfers.
 
 When clicking on the "box" button, transfers are released automatically, to
 reach a total of <Max Transfers to release> (option configured in the channel
 settings).
 
+The availability of a release channel depends on its state. A release channel
+can be in one of the following states:
+
+  - Open: the channel is available and can be used to release transfers. New
+    transfer are assigned automatically to this channel.
+  - Locked: the channel is available but the release of transfers from the channel
+    is no more possible. New transfers are still automatically assigned to this
+  - Asleep: the channel is not available and cannot be used to release
+    transfers. It is also no more possible to assign transfers to this channel.
+
+New release channels are by default "Open". You can change its state by using
+the "Lock" and "Sleep" buttons. When the "Sleep" button is used, in addition to
+the state change, not completed transfers assigned to the channel are unassigned
+from the channel. When the "Lock" button is used, only the state change is changed.
+A locked channel can be unlocked by using the "Unlock" button.
+A asleep channel can be waken up by using the "Wake up" button. When the "Wake up"
+button is used, in addition to the state change, the system looks for pending
+transfers requiring a release and try to assign them to a channel in the
+"Open" or "Locked" state.
+
 Bug Tracker
 ===========
 
 Bugs are tracked on `GitHub Issues <https://github.com/OCA/wms/issues>`_.
 In case of trouble, please check there if your issue has already been reported.
 If you spotted it first, help us smashing it by providing a detailed and welcomed
 `feedback <https://github.com/OCA/wms/issues/new?body=module:%20stock_release_channel%0Aversion:%2014.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.
@@ -96,22 +116,24 @@
 Credits
 =======
 
 Authors
 ~~~~~~~
 
 * Camptocamp
+* ACSONE SA/NV
 
 Contributors
 ~~~~~~~~~~~~
 
 * Guewen Baconnier <guewen.baconnier@camptocamp.com>
 * Matthieu Méquignon <matthieu.mequignon@camptocamp.com>
 * Sébastien Alix <sebastien.alix@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
+* Laurent Mignon <laurent.mignon@acsone.eu>
 
 Design
 ~~~~~~
 
 * Joël Grand-Guillaume <joel.grandguillaume@camptocamp.com>
 * Jacques-Etienne Baudoux <je@bcim.be>
```

## Comparing `odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD` & `odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,34 +1,35 @@
-odoo/addons/stock_release_channel/README.rst,sha256=5xMwZroFM24k7IKq6AiK14uKi_wrw1cfzI69xKJcaX4,4546
+odoo/addons/stock_release_channel/README.rst,sha256=cdRp7ta5y40d9Dmdcrk1tOHiINrDssFXqwMjmFzad_0,5819
 odoo/addons/stock_release_channel/__init__.py,sha256=X9EJGOE2GtZbS0G82PtSXmWSZ_R8jEM0rlJTDliQjp4,21
-odoo/addons/stock_release_channel/__manifest__.py,sha256=_UM5I1DEIH1XtISEmB4vV9-wKDnzvxp_ZwleQSxIqRY,891
+odoo/addons/stock_release_channel/__manifest__.py,sha256=MBIkwZm_Ueg3HQUxIVMV6F1uYZOc2kZsoI7_Fp3wMh4,904
 odoo/addons/stock_release_channel/data/ir_cron_data.xml,sha256=Fs0se4lPKelUpNvJnfEde32718SRlKCt0hEqQWQ-tQg,639
 odoo/addons/stock_release_channel/data/queue_job_data.xml,sha256=MyCGOSZNti3sgtwtco1_EBCM246w2JG8F478tczgbtA,592
 odoo/addons/stock_release_channel/data/stock_release_channel_data.xml,sha256=NRy2ijgGrgLx0FL7spJC1BiaECEDBlMuarFii52jaPE,293
-odoo/addons/stock_release_channel/i18n/stock_release_channel.pot,sha256=K8kBU5iUD7CEy2SVhHlliWkRbFaWuqrOJYkfRtgVhqs,19510
+odoo/addons/stock_release_channel/i18n/stock_release_channel.pot,sha256=8XEhXNuBbKbmVHYjRhJbyWx57Pvp741fn6c2IzwiPa8,25470
 odoo/addons/stock_release_channel/models/__init__.py,sha256=-Fc4Nz0A7KRRsEV7lKMJ8qGOS7a3U6fyl_A_2V9FGWM,89
 odoo/addons/stock_release_channel/models/stock_move.py,sha256=tBMD0zIhNth6sjlvLTtBaOsEm8kv_OcVdVkDJvBNPKo,802
-odoo/addons/stock_release_channel/models/stock_picking.py,sha256=UTcCO686WfKrabzvCcbCySW8vS1_13N4k9iCi6AONJA,1994
-odoo/addons/stock_release_channel/models/stock_release_channel.py,sha256=16tDBtoI3dvj6421wktLWkxAarxjxcOO2ZQc_KhROG4,23936
+odoo/addons/stock_release_channel/models/stock_picking.py,sha256=gcVRn4y2_MkrI-wm4zGy-PLHmq0tmNlFyjgNMMQixow,2949
+odoo/addons/stock_release_channel/models/stock_release_channel.py,sha256=0if4IV4JaTKMI4aBBJMTGhT5zD2pbzXm6Bri6CZ8bwg,29970
 odoo/addons/stock_release_channel/readme/CONFIGURE.rst,sha256=foUMWWFytuVRVkV1V4uA4FvsW2I5izyrcR1CzZ6mQTI,93
-odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst,sha256=wANA1SDnMWhVVWcUjBExhR3m_vJ8uR1U_bjzqK7oqoQ,316
+odoo/addons/stock_release_channel/readme/CONTRIBUTORS.rst,sha256=8ROGX1tlE1yiYn-56P088w9g3tdPomWs-fL8AxRwV30,360
 odoo/addons/stock_release_channel/readme/CREDITS.rst,sha256=-JppA6kiiAVqptoc7ytAB6vOqf_0W5uJrZLh70XGE3w,50
 odoo/addons/stock_release_channel/readme/DESCRIPTION.rst,sha256=LJj2UQ3g5NteOFkfldMDCU2sNVx6QFNCOC6HjzvpsXY,920
-odoo/addons/stock_release_channel/readme/USAGE.rst,sha256=l7KALZWYIQOX9h_nK9_bsDuJhTmpkGvZX1BoI8vERvA,374
+odoo/addons/stock_release_channel/readme/USAGE.rst,sha256=uKImsGjEDoJdmYBbgXcDLcBQ8eh4wZzPE8kGfAQvyDA,1588
 odoo/addons/stock_release_channel/security/stock_release_channel.xml,sha256=U0WfLbMKR4mnNdI4mfN8e7UTxLnyd17eVNhsBy-dMSc,1471
 odoo/addons/stock_release_channel/static/description/icon.png,sha256=6xBPJauaFOF0KDHfHgQopSc28kKvxMaeoQFQWZtfZDo,9455
-odoo/addons/stock_release_channel/static/description/index.html,sha256=kAnjiduJSnNLJLGYuuJiEinDF0TxclkuSQoyrhA26U8,14995
+odoo/addons/stock_release_channel/static/description/index.html,sha256=5MnJscAeI7syarvZDpcuJqZ_EiUNEd8a1uIQraEkvoI,16476
 odoo/addons/stock_release_channel/static/src/js/progressbar_fractional_widget.js,sha256=1ntAcRvXU4LXD4QOwNej0MHgtzT-bJfMJmrBSuJw-QI,3214
 odoo/addons/stock_release_channel/static/src/scss/stock_release_channel.scss,sha256=DK0Azc8Gk3FlxeKzjZpLhRZzCQmgXdfLNmfz1CbNN0g,975
-odoo/addons/stock_release_channel/tests/__init__.py,sha256=WJk3lP_kqpgemGIfgNw_eNubXMCTFXACaIBgDNEIOF8,153
-odoo/addons/stock_release_channel/tests/common.py,sha256=M9R5FH5PgfOm9f2szEBWa3Z8WoUzhPfhkn1b7gYVqHU,5628
+odoo/addons/stock_release_channel/tests/__init__.py,sha256=pEyteZmTMvUZOhb6McFyKT-gaupbDyPcrPRLXYYmdhA,198
+odoo/addons/stock_release_channel/tests/common.py,sha256=xDvuJi3H8YeUm80AEAb8-nr5ukamPSLlNlaJ8LP0m1w,5665
 odoo/addons/stock_release_channel/tests/test_channel_action.py,sha256=dGVDJO0P2IVQbjNYpgR8CkdTvonL5aOHOtVT_Xsp7hM,6104
 odoo/addons/stock_release_channel/tests/test_channel_computed_fields.py,sha256=p0zCo4KgoVtSdL8-0aiwbB8_dP2OYiHy8xHtKFK4I-w,3223
 odoo/addons/stock_release_channel/tests/test_channel_release_batch.py,sha256=Dk-Lg6N1Yvf-iTZCatBygLa_zrrS9TGTHhE2V4Br_oE,3423
 odoo/addons/stock_release_channel/tests/test_release_channel.py,sha256=ZMFqP9KI3mR9Pw72VmAY-CuVBtbtCkGF1NHIP5nNAIg,2099
+odoo/addons/stock_release_channel/tests/test_release_channel_lifecycle.py,sha256=RuPG8resHWW0jyyQIbt4s9P_ByMBBV_2-ZZMkLS1JAQ,3263
 odoo/addons/stock_release_channel/views/assets.xml,sha256=0N5C1BrYthuTIFLOy5WrnBmSYbGREBtJ7CEoHjfUlI4,617
 odoo/addons/stock_release_channel/views/stock_picking_views.xml,sha256=HRClC9y-GkzQeCyGHbFE4okfzu9h38pLoa09euq96uY,2816
-odoo/addons/stock_release_channel/views/stock_release_channel_views.xml,sha256=2gYbDDmjx1Jae08Vqfp3Z6i_jIx3CgO676RrociJsGU,27893
-odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/METADATA,sha256=s6iq7tQdEsp2FInL4GUqbMbyVhQqyjC3eveiAmSyQ2g,5245
-odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/WHEEL,sha256=2wepM1nk4DS4eFpYrW1TTqPcoGNfHhhO_i5m4cOimbo,92
-odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
-odoo14_addon_stock_release_channel-14.0.1.3.0.dist-info/RECORD,,
+odoo/addons/stock_release_channel/views/stock_release_channel_views.xml,sha256=J0W_4wYllrI26d-KsQRA4tQKu9zUZ2LaQi7fVozj2ZM,37267
+odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/METADATA,sha256=em4jfbxQ4K0rtWyvHpeMGekVAToakOZ21GLPU4ECTao,6531
+odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/WHEEL,sha256=pkctZYzUS4AYVn6dJ-7367OJZivF2e8RA9b_ZBjif18,92
+odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/top_level.txt,sha256=qBj40grFkGOfDZ2WDSw3y1RnDlgG0u8rP8pvGNdbz4w,5
+odoo14_addon_stock_release_channel-14.0.2.0.0.dist-info/RECORD,,
```

